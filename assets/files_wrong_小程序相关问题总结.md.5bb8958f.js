import{_ as a,o as e,c as s,O as n}from"./chunks/framework.999b5480.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"files/wrong/小程序相关问题总结.md","filePath":"files/wrong/小程序相关问题总结.md","lastUpdated":1703573862000}'),p={name:"files/wrong/小程序相关问题总结.md"},l=n(`<h2 id="支付宝小程序" tabindex="-1">支付宝小程序 <a class="header-anchor" href="#支付宝小程序" aria-label="Permalink to &quot;支付宝小程序&quot;">​</a></h2><h3 id="修改支付宝导航栏颜色" tabindex="-1">修改支付宝导航栏颜色 <a class="header-anchor" href="#修改支付宝导航栏颜色" aria-label="Permalink to &quot;修改支付宝导航栏颜色&quot;">​</a></h3><p>两种方式修改：</p><ol><li><p>修改导航栏背景颜色，文字颜色是自适应的。比如黑色背景，显示的就是白色文字和返回箭头</p></li><li><p>使用 <strong>api</strong> 修改文字颜色：<code>my.setNavigationBar({ frontColor: &#39;#FFFFFF&#39;, backgroundColor: &#39;#000000&#39; })</code></p><blockquote><p><strong>backgroundColor</strong> 必填，否则无效</p></blockquote></li></ol><h3 id="支付宝小程序跳转三方h5" tabindex="-1">支付宝小程序跳转三方h5 <a class="header-anchor" href="#支付宝小程序跳转三方h5" aria-label="Permalink to &quot;支付宝小程序跳转三方h5&quot;">​</a></h3><p>基础API跳转</p><h4 id="web-view" tabindex="-1">web-view <a class="header-anchor" href="#web-view" aria-label="Permalink to &quot;web-view&quot;">​</a></h4><p>支付宝小程序想要跳转H5页面，之前只用过 web-view，内嵌H5，这种方式需要配置域名白名单，并且在外链域名的根目录放置校验文件，H5不是自有页面的话，就不能这样去实现。</p><div class="language-wiki"><button title="Copy Code" class="copy"></button><span class="lang">wiki</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&lt;web-view</span></span>
<span class="line"><span style="color:#A6ACCD;">    src=&quot;https://render.alipay.com/p/s/web-view/index&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    onMessage=&quot;onmessage&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"> &lt;/web-view&gt;</span></span></code></pre></div><h4 id="my-ap-openurl" tabindex="-1">my.ap.openURL <a class="header-anchor" href="#my-ap-openurl" aria-label="Permalink to &quot;my.ap.openURL&quot;">​</a></h4><p>相对于 <code>web-view</code>，还有一种跳转H5的方式， <code>my.ap.openURL</code>，不需要配置域名，但是非支付宝官网页面只有部分符合开放类目的小程序可以使用，且需要到开放平台配置 <code>openURL</code> 白名单。已知目标页面的 <code>URL</code> 或 <code>scheme</code>，可以使用 <code>my.ap.openURL</code>。 跳转到支付宝官方 H5 页面是不需要配置白名单的。</p><blockquote><ul><li><a href="https://render.alipay.com/p/" target="_blank" rel="noreferrer">https://render.alipay.com/p/</a> 开头的 URL。</li><li><a href="https://ds.alipay.com/?scheme=" target="_blank" rel="noreferrer">https://ds.alipay.com/?scheme=</a> 开头的 URL。</li></ul></blockquote><div class="language-wiki"><button title="Copy Code" class="copy"></button><span class="lang">wiki</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">my.ap.openURL({</span></span>
<span class="line"><span style="color:#A6ACCD;">  // 请将 url 替换为后台加白过的跳转地址</span></span>
<span class="line"><span style="color:#A6ACCD;">  url: &#39;https://please.replace.me/page&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  success: (res) =&gt; console.log(&#39;openURL success&#39;),</span></span>
<span class="line"><span style="color:#A6ACCD;">  fail: (err) =&gt; my.alert({ title: &#39;openURL fail: &#39; + JSON.stringify(err) })</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span></code></pre></div><h4 id="my-ap-navigatetoalipaypage-已不在维护" tabindex="-1"><a href="https://opendocs.alipay.com/mini/api/navigatetoalipaypage" target="_blank" rel="noreferrer">my.ap.navigateToAlipayPage</a>（已不在维护） <a class="header-anchor" href="#my-ap-navigatetoalipaypage-已不在维护" aria-label="Permalink to &quot;[my.ap.navigateToAlipayPage](https://opendocs.alipay.com/mini/api/navigatetoalipaypage)（已不在维护）&quot;">​</a></h4><p><code>my.ap.navigateToAlipayPage</code> 是用于跳转到支付宝官方业务或运营活动页面的 API。利用不需要配置白名单的域名和scheme语法可以实现跳转。</p><div class="language-wiki"><button title="Copy Code" class="copy"></button><span class="lang">wiki</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 支付宝客户端的标准scheme为：alipays://platformapi/startapp?appId=H5App自身的appId</span></span>
<span class="line"><span style="color:#A6ACCD;">// 但如果是某些运营页之类的单独页面，没有自己的appId，</span></span>
<span class="line"><span style="color:#A6ACCD;">// 可以使用Nebula容器的通用浏览器模式appId=20000067 来启动，</span></span>
<span class="line"><span style="color:#A6ACCD;">// 同时将需要打开的H5页面url经过encode编码后设置到url参数内</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const url = &#39;https://www.baidu.com&#39;;</span></span>
<span class="line"><span style="color:#A6ACCD;">// https://render.alipay.com/p/ 不需要配置白名单</span></span>
<span class="line"><span style="color:#A6ACCD;">// 开了个后门，在不需要配置白名单的链接后面拼上自己的链接</span></span>
<span class="line"><span style="color:#A6ACCD;">const link = &#39;https://render.alipay.com/p/s/i/?scheme=&#39; + encodeURIComponent(&#39;alipays://platformapi/startapp?appId=20000067&amp;url=&#39; + encodeURIComponent(url));</span></span>
<span class="line"><span style="color:#A6ACCD;">my.ap.navigateToAlipayPage({</span></span>
<span class="line"><span style="color:#A6ACCD;">  path: link</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span></code></pre></div><p><a href="https://open.alipay.com/portal/forum/post/108601011" target="_blank" rel="noreferrer">修改导航栏文字颜色</a></p><p><a href="https://blog.csdn.net/stupid_muscleman/article/details/128640722" target="_blank" rel="noreferrer">支付宝小程序跳转第三方H5页面</a></p><h2 id="微信小程序" tabindex="-1">微信小程序 <a class="header-anchor" href="#微信小程序" aria-label="Permalink to &quot;微信小程序&quot;">​</a></h2><h2 id="抖音小程序" tabindex="-1">抖音小程序 <a class="header-anchor" href="#抖音小程序" aria-label="Permalink to &quot;抖音小程序&quot;">​</a></h2>`,20),o=[l];function t(r,i,c,d,h,m){return e(),s("div",null,o)}const C=a(p,[["render",t]]);export{u as __pageData,C as default};
