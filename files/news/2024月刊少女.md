# æœˆåˆŠå°‘å¥³-2024é™å®šç‰ˆ

## January

### [React 19 å³å°†æ¨å‡ºçš„ 4 ä¸ªå…¨æ–° Hooks](https://mp.weixin.qq.com/s/KFUikcgNvNw15wqM2wPHJw)

- `use`
- `useOptimistic`
- `useFormState`
- `useFormStatus`

#### useOptimistic

`useOptimistic` Hook å…è®¸åœ¨è¿›è¡Œæäº¤åŠ¨ä½œçš„åŒæ—¶ï¼Œèƒ½å¤Ÿä¹è§‚åœ°æ›´æ–°ç”¨æˆ·ç•Œé¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

å…¶è¯­æ³•å¦‚ä¸‹ï¼š

```tsx
import { useOptimistic } from 'react';

function AppContainer() {
    const [optimisticState, addOptimistic] = useOptimistic(
        state,
        // æ›´æ–°å‡½æ•°
        (currentState, optimisticValue) => {
            // åˆå¹¶å¹¶è¿”å›å¸¦æœ‰ä¹è§‚å€¼çš„æ–°çŠ¶æ€  
        },
    );
}
```

> **ä¹è§‚æ›´æ–°**ï¼šä¸€ç§æ›´æ–°åº”ç”¨ç¨‹åºä¸­æ•°æ®çš„ç­–ç•¥ã€‚è¿™ç§ç­–ç•¥é€šå¸¸ä¼šå…ˆæ›´æ”¹å‰ç«¯é¡µé¢ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æˆåŠŸï¼Œåˆ™ç»“æŸæ“ä½œï¼›å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œåˆ™é¡µé¢å›æ»šåˆ°å…ˆå‰çŠ¶æ€ã€‚è¿™ç§åšæ³•å¯ä»¥é˜²æ­¢æ–°æ—§æ•°æ®ä¹‹é—´çš„è·³è½¬æˆ–é—ªçƒï¼Œæä¾›æ›´å¿«çš„ç”¨æˆ·ä½“éªŒã€‚

#### useFormState

`useFormState` æ˜¯ä¸€ä¸ªå¯ä»¥æ ¹æ®æŸä¸ªè¡¨å•åŠ¨ä½œçš„ç»“æœæ›´æ–° `state` çš„ Hookã€‚

```tsx
const [state, formAction] = useFormState(fn, initialState);
```

> **æ³¨æ„**ï¼š`useFormState` éœ€è¦ä» `react-dom` ä¸­å¯¼å…¥ï¼Œè€Œä¸æ˜¯ä» `react` ä¸­å¯¼å…¥ã€‚

#### useFormStatus

`useFormStatus` ç”¨äºè·å–ä¸Šæ¬¡è¡¨å•æäº¤çš„çŠ¶æ€ä¿¡æ¯ã€‚

````tsx
const { pending, data, method, action } = useFormStatus();
````

å®ƒä¸æ¥æ”¶ä»»ä½•å‚æ•°ï¼Œä¼šè¿”å›ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å±æ€§çš„ `status` å¯¹è±¡ï¼š

- `pending`ï¼šå¸ƒå°”å€¼ã€‚å¦‚æœä¸º `true`ï¼Œåˆ™è¡¨ç¤ºçˆ¶çº§ `<form>` æ­£åœ¨ç­‰å¾…æäº¤ï¼›å¦åˆ™ä¸º falseã€‚
- `data`ï¼šåŒ…å«çˆ¶çº§ `<form>` æ­£åœ¨æäº¤çš„æ•°æ®ï¼›å¦‚æœæ²¡æœ‰è¿›è¡Œæäº¤æˆ–æ²¡æœ‰çˆ¶çº§ `<form>`ï¼Œå®ƒå°†ä¸º `null`ã€‚
- `method`ï¼šå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯ 'get' æˆ– 'post'ã€‚è¡¨ç¤ºçˆ¶çº§ `<form>` ä½¿ç”¨ GET æˆ– POST HTTP æ–¹æ³• è¿›è¡Œæäº¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`<form>` å°†ä½¿ç”¨ GET æ–¹æ³•ï¼Œå¹¶å¯ä»¥é€šè¿‡ method å±æ€§æŒ‡å®šã€‚
- `action`ï¼šä¸€ä¸ªä¼ é€’ç»™çˆ¶çº§ `<form>` çš„ `action` å±æ€§çš„å‡½æ•°å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰çˆ¶çº§ `<form>`ï¼Œåˆ™è¯¥å±æ€§ä¸º `null`ã€‚å¦‚æœåœ¨ `action` å±æ€§ä¸Šæä¾›äº† URI å€¼ï¼Œæˆ–è€…æœªæŒ‡å®š `action` å±æ€§ï¼Œ`status.action` å°†ä¸º `null`ã€‚

> å®ƒä»…åœ¨çˆ¶çº§è¡¨å•ä½¿ç”¨ `action` å±æ€§æ—¶æ‰æœ‰æ•ˆã€‚

### `Opera` å…¬å¸ƒé `WebKit` å†…æ ¸çš„ios æµè§ˆå™¨

åœ¨è‹¹æœç¡®è®¤å°†éµä» DMA æ³•æ¡ˆè¦æ±‚ï¼Œå…è®¸å¼€å‘è€…åœ¨æ¬§æ´²åœ°åŒºçš„ App Store æäº¤ä¸åŸºäºWebKit å†…æ ¸çš„æµè§ˆå™¨åï¼ŒOpera å®£å¸ƒå°†ä¸ºæ¬§æ´²çš„ iPhone ä¸ iPad ç”¨æˆ·å¸¦æ¥ä¸€æ¬¾åŸºäºè‡ªç ”å¼•è­¦çš„å…¨æ–° AIæµè§ˆå™¨: ã€Opera Oneã€‘ã€‚

### æ–‡ç« 

- [Performanceé¢æ¿åˆ†ææ€§èƒ½ç“¶é¢ˆå…¨æµç¨‹](https://juejin.cn/post/7272632260179542050)
- [react tips](https://sorrycc.com/react-tips/)
- [ä½¿ç”¨ Promise.withResolvers å»¶è¿Ÿ Promise](https://sorrycc.com/promise-with-resolvers/)
- [Hot Module Replacement is Easy](https://bjornlu.com/blog/hot-module-replacement-is-easy)
  > äº‘è°¦è¯‘ï¼š[Hot Module Replacement åŸç†](https://sorrycc.com/hot-module-replacement-is-easy/)
  >
  > äº‘è°¦è¯‘ï¼š[2024 å¹´ React è¶‹åŠ¿](https://sorrycc.com/react-trend-2024/)

## March

### HTMX

ğŸ‘ ä¼˜ç‚¹ï¼š

- ç®€å•ç›´è§‚çš„åŸºäº HTML çš„è¯­æ³•ã€‚
- åªéœ€å‡ ä¸ª HTML å±æ€§å°±èƒ½å‘é€ AJAX è¯·æ±‚å’Œæ›´æ–° DOMã€‚
- ä¸éœ€è¦ JavaScriptï¼Œç›´æ¥åœ¨ HTML ä¸­å®ç°åŠ¨æ€äº¤äº’ã€‚
- æ•´åˆåˆ°ç°æœ‰çš„ HTML ç½‘é¡µä¸­éå¸¸ç®€å•ã€‚
- è½»é‡çº§åº“ï¼Œä»…æœ‰å‡  KBã€‚

ğŸ‘ ç¼ºç‚¹ï¼š

- éœ€è¦åç«¯ UI æœåŠ¡è¿”å›åŸå§‹ HTMLï¼Œå› æ­¤æ›´ä¾èµ–äºå‰ç«¯ã€‚
- ç›¸å¯¹è¾ƒæ–°

### [**Chrome 123**](https://developer.chrome.com/blog/chrome-123-beta?hl=zh-cn)

- CSS

  - CSS `light-dark()` é¢œè‰²å‡½æ•°
  - CSS ç”»ä¸­ç”»æ˜¾ç¤ºæ¨¡å¼
  - å—çš„ `align-content` CSS å±æ€§
  - `field-sizing` CSS å±æ€§
  - CSS `text-spacing-trim` å±æ€§

- Web API

  - å¯¼å…¥å±æ€§ `with` è¯­æ³•

    ```javascript
    import xxx from "mod" with { type: "json" }
    ```

> [å¿«é€Ÿäº†è§£CSSè¡¨å•å°ºå¯¸å±æ€§field-sizing](https://mp.weixin.qq.com/s/GanmepfsEwbJyb2RhWhtnQ)

### æ–‡ç« 

- [å‰ç«¯æ¥å£é˜²æ­¢é‡å¤è¯·æ±‚å®ç°æ–¹æ¡ˆ](https://juejin.cn/post/7341840038964363283)
- [å¦‚ä½•åšæ‡‚ä¸šåŠ¡çš„å‰ç«¯](https://mp.weixin.qq.com/s/Wi9M9_afNmzn32lAiZ1TaA)

## April

### [React 19 Beta](https://react.dev/blog/2024/04/25/react-19)

#### Actionï¼ˆå¼‚æ­¥å‡½æ•°ï¼‰

- useTransition å¯è‡ªåŠ¨å¤„ç† pending çŠ¶æ€
- å°äº† useActionState å¤„ç† Action çš„é”™è¯¯ã€pending ç­‰ï¼Œ
- form çš„ action å±æ€§ä¼šè‡ªåŠ¨å¤„ç†æäº¤
- useFormStatus å¯è¯»å–çˆ¶ form çš„çŠ¶æ€
- useOptimistic ç”¨äºä¹è§‚æ›´æ–°æ•°æ®
- action æ˜¯å¯ç»„åˆçš„ã€‚

### use

- è·å–è·å–èµ„æºï¼Œæ”¯æŒ promise å’Œ context
- æš‚ä¸æ”¯æŒæ¸²æŸ“ä¸­åˆ›å»ºçš„ promiseï¼ˆé¢ã€‚ã€‚ï¼‰
- use å¯ä»¥æœ‰æ¡ä»¶çš„è°ƒç”¨ï¼Œæ‰€ä»¥è¯»å–ä¸Šä¸‹æ–‡ç›¸æ¯” useContext ä¼šæ›´çµæ´»ã€‚

#### React Server ç»„ä»¶

- ä¹‹å‰ canary çš„åŠŸèƒ½å…¨éƒ¨æ¬åˆ° 19 beta
- æ˜ç¡® Server ç»„ä»¶é»˜è®¤æ— æŒ‡ä»¤ï¼Œ"use server" æŒ‡ä»¤å°±æ˜¯ç»™ Server Action ç”¨çš„
- React Server ç»„ä»¶é…å¥—å·¥å…·ä¸éµå¾ª semverï¼Œä½¿ç”¨æ—¶éœ€å†™æ­»ç‰ˆæœ¬ã€‚

#### å…¶ä»–

- ref å¯ä½œä¸ºå±æ€§ï¼ŒforwardRef å°†å¼ƒç”¨
- å¤šä¸ªæ°´åˆä¸åŒ¹é…çš„é”™è¯¯åˆå¹¶æ˜¾ç¤º
- Context å¯ç›´æ¥ä½œä¸º Providerï¼Œæ— éœ€ Context.Provider
- refs æ”¯æŒæ¸…ç†å‡½æ•°ï¼Œä¸ç”¨ä¼  null
- useDeferredValue æ”¯æŒåˆå§‹å€¼
- åŸç”Ÿæ”¯æŒ titleã€linkã€meta æ–‡æ¡£å…ƒæ•°æ®æ ‡ç­¾ï¼Œå¤§å¤šåœºæ™¯æ— éœ€ react-helmet
- æ ·å¼æ”¯æŒé€šè¿‡ precedence å£°æ˜ä¼˜å…ˆçº§
- æ”¯æŒ async script
- æä¾› 4 ä¸ªæ–° api ç”¨äºæ”¯æŒé¢„åŠ è½½æµè§ˆå™¨èµ„æº

[React 19 Beta éƒ½æ›´æ–°äº†å•¥](https://mp.weixin.qq.com/s/lFdrgzWEIHJGV71iMqugUg)

TODO

chain-webpack æ–‡ç« 

æ€§èƒ½åˆ†æ æ–‡ç« 
